#ns=number of studies
# y=the ln(OR) 
# var=the variance of the ln(OR)
#tau.sq=heterogeneity

model {
for (i in 1:ns) {
##normal likelihood of observed ln(OR)
		y[i] ~ dnorm(theta[i],w[i])
		w[i]<-1/varr[i]
	
##distribution of random effects
		theta[i] ~ dnorm(mean,prec)
}
		
##prior distribution for summary lnOR
mean ~ dnorm(0,.0001)
	
##prior distribution for log-odds in baseline arm of study i
for (i in 1:ns) {u[i] ~ dnorm(0,.0001)}
	
##prior distribution for heterogeneity
tau ~ dnorm(0,1)I(0,) ##I(0,) truncates the normal above zero
prec <- 1/tau.sq
tau.sq <- pow(tau,2)

##OR 
OR <- exp(mean)
}	 

